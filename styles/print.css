@media print {
  @page {
    size: A4;
    margin: 1cm;
  }

  html,
  body {
    background-color: white !important;
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    zoom: 100%;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    overflow: visible !important;
    height: auto !important;
  }

  canvas {
    display: block;
    max-width: 100%;
    height: auto !important;
    page-break-inside: avoid !important;
  }

  input, select {
    max-width: 100% !important;
    page-break-inside: avoid !important;
  }

  .sidebar {
    display: none !important;
  }

  .container {
    display: block !important;
    height: auto !important;
    width: 100% !important;
  }

  .main {
    width: 100% !important;
    height: auto !important;
    overflow: visible !important;
    padding-bottom: 0 !important;
  }

  .base-form-body-range {
    flex-direction: column !important;
    gap: 10px !important;
    page-break-inside: avoid !important;
  }

  .step {
    display: block !important;
    page-break-after: auto !important;
  }

  .naoImprimir {
    display: none !important;
  }

  /* Ajustes de layout geral */
  .horizontal-diviser {
    margin: 10px 0 !important;
    height: 1px !important;
    page-break-inside: avoid !important;
  }

  .base-form {
    border: none;
    box-shadow: none;
    margin: 0 !important;
    padding: 0 !important;
    margin-bottom: 20px !important;
    page-break-inside: avoid !important;
  }

  .base-form-header {
    background-color: var(--color-primary-500) !important;
    color: white !important;
    box-shadow: none !important;
    padding: 8px 0 !important;
    margin: 0 !important;
    page-break-inside: avoid !important;
  }

  .base-form-icon,
  .base-form-title {
    font-size: var(--fs-base) !important;
    margin-left: 8px !important;
    font-weight: 600  !important;
  }

  .base-form-item {
    display: none !important;
  }

  .base-form-body {
    display: block !important;
    padding: 10px 12px !important;
    padding-top: 10px !important;
    border: none !important;
    page-break-after: auto !important;
  }
  
  .base-form-body-range {
    page-break-inside: avoid !important;
  }

  /* Melhoria na legibilidade do texto */
  .section-title h3 {
    color: #000 !important;
    font-size: var(--fs-2xl) !important;
    border-bottom: 3px solid #000 !important;
    padding-bottom: 8px !important;
    margin-bottom: 15px !important;
    page-break-after: avoid !important;
  }

  /* Resumo patrimonial */
  .resumo-patrimonial {
    display: block;
    background: #f5f5f5 !important;
    border: 1px solid #999 !important;
    padding: 12px !important;
    margin: 12px 0 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    page-break-inside: avoid !important;
  }

  .resumo-patrimonial div {
    display: flex;
    justify-content: space-between;
    page-break-inside: avoid !important;
  }

  .projecao-titulos {
    margin-bottom: 10px !important;
    page-break-inside: avoid !important;
  }

  .projecao-informacoes {
    gap: 8px !important;
    page-break-inside: avoid !important;
  }

  .projecao-informacoes-item {
    padding: 8px !important;
    page-break-inside: avoid !important;
  }

  .projecao-informacoes-icon {
    padding: 4px !important;
    border-radius: 4px !important;
  }

  .projecao-premissas p {
    line-height: 1.2;
    margin-bottom: 8px;
    page-break-inside: avoid !important;
  }

  /* Prevenção de cortes em gráficos */
  #graficoMetodologia503020,
  #graficoOrcamentoAtual,
  #graficoPlReal,
  #graficoPatrimonioTotal,
  #graficoPatrimonioProtegido {
    page-break-inside: avoid !important;
    display: block !important;
    margin: 0 auto !important;
  }

  /* Containers de gráficos */
  div[style*="max-height"] {
    page-break-inside: avoid !important;
  }

  /* Elementos que devem ser ocultados */
  .menu-toggle,
  .step-button-background,
  .sidebar,
  #add-dependent-btn,
  #add-property-btn,
  #add-vehicle-btn,
  #add-otherasset-btn,
  #add-liabilities-btn,
  .remove-dependent-btn,
  .remove-property-btn,
  .remove-vehicle-btn,
  .remove-otherasset-btn,
  .remove-liabilities-btn {
    display: none !important;
  }

  /* Ajustes para texto e labels */
  label {
    font-weight: bold !important;
    font-size: var(--fs-sm) !important;
    page-break-inside: avoid !important;
  }

  p {
    margin: 0 0 8px 0 !important;
    line-height: 1.3 !important;
    page-break-inside: avoid !important;
  }

  /* Espaçamento otimizado para impressão */
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid !important;
    margin-top: 0 !important;
    margin-bottom: 8px !important;
  }

  /* Garantir que boxes de conteúdo não sejam cortados */
  .yes-no-buttons,
  .resumo-titulo,
  .projecao-primeiraParte,
  .projecao-segundaParte {
    page-break-inside: avoid !important;
  }

  /* Ajustes específicos para impressão de dados */
  .base-form-body label {
    display: block !important;
    margin-bottom: 2px !important;
  }

  .base-form-body input,
  .base-form-body select {
    display: block !important;
    width: 100% !important;
    margin-bottom: 8px !important;
  }

  /* Gráficos com tamanho otimizado */
  canvas {
    max-height: 200px !important;
    width: auto !important;
    margin-bottom: 10px !important;
  }

  /* Quebra de página automática entre seções principais */
  .step:not(.hidden) {
    page-break-before: auto !important;
  }

  /* Evitar cortes em lists */
  ul, ol {
    page-break-inside: avoid !important;
  }

  li {
    page-break-inside: avoid !important;
  }
}